"use strict";(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[3610],{96290:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(63366),a=n(93523),i=n(33918),c=n(84664),s=n(88837),u=["isLoading","text"];function o(e){var t=e.isLoading,n=e.text,o=(0,r.Z)(e,u),l=(0,c.$)().t;return(0,s.tZ)(a.Z,Object.assign({},o,{variant:"contained",children:t?(0,s.tZ)(i.Z,{size:20,style:{color:"white"}}):l(n)}))}},15919:function(e,t,n){n.r(t),n.d(t,{ProfilePage:function(){return H},default:function(){return O}});var r=n(2436),a=n(53420),i=n(91169),c=n(82385),s=n(62768),u=n(54482),o=n(15861),l=n(64687),d=n.n(l),f=n(57688),h=n(4661),Z=n(43325),p=n(95338),m=n(65648),v=n(23746),x=n(2569),y=n(84163),g=n(43505),k=n(72780),w=n(67294),b=n(84664),S=n(94341),C=n(96290),N=n(2585),P=n(88837);function B(e){var t=e.children,n=e.withSpaceBetween;return(0,P.tZ)("div",{className:(0,N.Z)("border p-6",{"space-y-5":n}),children:t})}function D(e){var t=e.children,n=e.withBottomSpace;return(0,P.tZ)("div",{className:(0,N.Z)("pt-16 px-8 space-y-3",{"pb-16":n}),children:t})}var L=n(60428),X=n(93523);function j(e){var t=e.header,n=e.withEditButton,r=e.onClick,a=(0,b.$)().t;return(0,P.BX)("div",{className:"flex justify-between",children:[(0,P.tZ)(L.Z,{variant:"h5",component:"h2",fontWeight:"bold",children:a(t)}),n&&(0,P.tZ)(X.Z,{onClick:r,children:a("Edit")})]})}var z=["firstName","lastName","email"];function A(){var e=(0,b.$)().t,t=(0,w.useState)(""),n=t[0],r=t[1],a=(0,w.useContext)(S.V),i=a.value,c=a.setValue,s=(0,w.useState)(!1),u=s[0],l=s[1],N=(0,w.useState)(!1),L=N[0],X=N[1],A=(0,w.useState)(!1),H=A[0],O=A[1],R=(0,w.useState)(!1),V=R[0],$=R[1],_=(0,w.useState)(!1),E=_[0],G=_[1],I=(0,w.useState)(!1),U=I[0],W=I[1],M=(0,w.useState)(!1),q=M[0],F=M[1],J=(0,w.useState)(!1),T=J[0],K=J[1],Q=(0,w.useState)(!1),Y=Q[0],ee=Q[1],te=function(){K(!1),F(!1),ee(!1),W(!1)},ne=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.prev=1,r(""),e.next=5,(0,k.$2)({additional:JSON.stringify({dataRequested:!0})});case 5:te(),W(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:return e.prev=12,$((function(){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),l(!1),e.prev=2,r(""),e.next=6,(0,k.sG)({firstName:i.firstName||"",lastName:i.lastName||""});case 6:te(),F(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r(e.t0.message);case 13:return e.prev=13,X((function(){return!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,r(""),e.next=5,(0,k.tm)({email:i.email});case 5:te(),ee(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:return e.prev=12,G((function(){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,r(""),e.next=5,(0,k.c0)({email:i.email});case 5:te(),K(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:return e.prev=12,O((function(){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();if(!i)return null;return(0,P.BX)(D,{withBottomSpace:!0,children:[(0,P.tZ)(j,{header:e("Details")}),(0,P.BX)(B,{children:[(0,P.tZ)(f.Z,{children:(0,P.tZ)(h.Z,{children:Object.keys(i).filter((function(e){return z.includes(e)})).map((function(t,n){return(0,P.BX)(Z.Z,{children:[(0,P.tZ)(p.Z,{children:"email"===t?"E-MAIL":e(t).toUpperCase()}),(0,P.tZ)(p.Z,{children:"email"!==t&&u?(0,P.tZ)(m.Z,{onChange:function(e){return function(e,t){c((function(n){var r;return Object.assign({},n,((r={})[t]=e.target.value,r))}))}(e,t)},value:i[t],variant:"standard",fullWidth:!0}):i[t]})]},n)}))})}),(0,P.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return u?re():l(!u)},text:e(u?"Save Informations":"Update Informations"),isLoading:L,size:"medium",style:u?{backgroundColor:y.Z.A700}:void 0,variant:"contained"}),(0,P.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return ie()},disabled:T,text:e("Update password"),isLoading:H,size:"medium",variant:"contained"}),(0,P.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return ne()},disabled:U,text:e("Send GDPR Data"),isLoading:V,size:"medium",variant:"contained"}),(0,P.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return ae()},disabled:Y,text:e("Delete account"),isLoading:E,size:"medium",style:Y?void 0:{backgroundColor:g.Z.A700},variant:"contained"}),n.length?(0,P.BX)("div",{style:{color:g.Z.A700},className:"flex justify-center",children:["*",e(n)]}):null]}),(0,P.tZ)(v.Z,{open:T,autoHideDuration:2e3,children:(0,P.tZ)(x.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"Reset password email sent! Please check your inbox."})}),(0,P.tZ)(v.Z,{open:U,autoHideDuration:2e3,children:(0,P.tZ)(x.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"GDPR data email sent! Please check your inbox."})}),(0,P.tZ)(v.Z,{open:q,autoHideDuration:2e3,children:(0,P.tZ)(x.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"Saved to Account."})}),(0,P.tZ)(v.Z,{open:Y,autoHideDuration:2e3,children:(0,P.tZ)(x.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"Delete account email sent! Please check your inbox."})})]})}function H(e){return(0,P.tZ)(s.Z,{pathname:e.path,children:(0,P.BX)(a.Z,{maxWidth:"xl",children:[(0,P.tZ)(c.Z,{}),(0,P.tZ)(u.Z,{header:(0,P.tZ)(r.Field.Text,{name:"sectionHeader",defaultValue:"My Profile"}),withVerticalSpacing:!0}),(0,P.tZ)(i.Z,{children:(0,P.tZ)(A,{})}),(0,P.tZ)(c.Z,{})]})})}var O=(0,r.connectPage)(H,{displayName:"ProfilePage"})}}]);
//# sourceMappingURL=component---src-pages-profile-tsx-8f82349ad8eb4d732c96.js.map