"use strict";(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[3610],{96290:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(63366),i=n(21770),a=n(8304),c=n(84664),s=n(88837),u=["isLoading","text"];function l(e){var t=e.isLoading,n=e.text,l=(0,r.Z)(e,u),o=(0,c.$)().t;return(0,s.tZ)(i.Z,Object.assign({},l,{variant:"contained",children:t?(0,s.tZ)(a.Z,{size:20,style:{color:"white"}}):o(n)}))}},15919:function(e,t,n){n.r(t),n.d(t,{ProfilePage:function(){return H},default:function(){return V}});var r=n(2436),i=n(53420),a=n(91169),c=n(82385),s=n(17458),u=n(54482),l=n(15861),o=n(64687),d=n.n(o),h=n(15744),Z=n(88568),f=n(10819),p=n(75437),m=n(99911),v=n(21770),x=n(35717),y=n(99133),b=n(7575),g=n(98034),k=n(67294),w=n(84664),S=n(94341),C=n(96290),P=n(2585),B=n(88837);function D(e){var t=e.children,n=e.withSpaceBetween;return(0,B.tZ)("div",{className:(0,P.Z)("border p-6",{"space-y-5":n}),children:t})}function N(e){var t=e.children,n=e.withBottomSpace;return(0,B.tZ)("div",{className:(0,P.Z)("pt-16 px-8 space-y-3",{"pb-16":n}),children:t})}var L=n(64090);function X(e){var t=e.header,n=e.withEditButton,r=e.onClick,i=(0,w.$)().t;return(0,B.BX)("div",{className:"flex justify-between",children:[(0,B.tZ)(L.Z,{variant:"h5",component:"h2",fontWeight:"bold",children:i(t)}),n&&(0,B.tZ)(v.Z,{onClick:r,children:i("Edit")})]})}var j=["firstName","lastName","email"];function z(){var e=(0,w.$)().t,t=(0,k.useState)(""),n=t[0],r=t[1],i=(0,k.useContext)(S.V),a=i.value,c=i.setValue,s=(0,k.useState)(!1),u=s[0],o=s[1],P=(0,k.useState)(!1),L=P[0],z=P[1],H=(0,k.useState)(!1),V=H[0],_=H[1],A=(0,k.useState)(!1),E=A[0],O=A[1],R=(0,k.useState)(!1),U=R[0],W=R[1],$=(0,k.useState)(!1),G=$[0],M=$[1],F=(0,k.useState)(!1),I=F[0],T=F[1],q=function(){M(!1),T(!1),W(!1)},J=function(){var e=(0,l.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,r(""),e.next=5,(0,g.h8)({email:a.email});case 5:q(),W(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:return e.prev=12,_((function(){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,l.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,r(""),e.next=5,(0,g.h8)({email:a.email});case 5:q(),T(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:return e.prev=12,O((function(){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,l.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,r(""),e.next=5,(0,g.c0)({email:a.email});case 5:q(),M(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(e.t0.message);case 12:return e.prev=12,z((function(){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();if(!a)return null;return(0,B.BX)(N,{withBottomSpace:!0,children:[(0,B.tZ)(X,{header:e("Details")}),(0,B.BX)(D,{children:[(0,B.tZ)(h.Z,{children:(0,B.tZ)(Z.Z,{children:Object.keys(a).filter((function(e){return j.includes(e)})).map((function(t,n){return(0,B.BX)(f.Z,{children:[(0,B.tZ)(p.Z,{children:"email"===t?"E-MAIL":e(t).toUpperCase()}),(0,B.tZ)(p.Z,{children:"email"!==t&&u?(0,B.tZ)(m.Z,{onChange:function(e){return function(e,t){c((function(n){var r;return Object.assign({},n,((r={})[t]=e.target.value,r))}))}(e,t)},value:a[t],variant:"standard",fullWidth:!0}):a[t]})]},n)}))})}),(0,B.tZ)(v.Z,{sx:{mt:3,mr:2},onClick:function(){return o(!u)},variant:"contained",size:"medium",children:e("Update Details")}),(0,B.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return Q()},disabled:G,text:e("Update password"),isLoading:L,size:"medium",variant:"contained"}),(0,B.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return J()},disabled:U,text:e("Send GDPR Data"),isLoading:V,size:"medium",variant:"contained"}),(0,B.tZ)(C.Z,{sx:{mt:3,mr:2},onClick:function(){return K()},disabled:I,text:e("Delete account"),isLoading:E,size:"medium",style:I?void 0:{backgroundColor:b.Z.A700},variant:"contained"}),n.length?(0,B.BX)("div",{style:{color:b.Z.A700},className:"flex justify-center",children:["*",e(n)]}):null]}),(0,B.tZ)(x.Z,{open:G,autoHideDuration:2e3,children:(0,B.tZ)(y.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"Reset password email sent! Please check your inbox."})}),(0,B.tZ)(x.Z,{open:U,autoHideDuration:2e3,children:(0,B.tZ)(y.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"GDPR data email sent! Please check your inbox."})}),(0,B.tZ)(x.Z,{open:I,autoHideDuration:2e3,children:(0,B.tZ)(y.Z,{variant:"filled",severity:"success",sx:{width:"100%"},children:"Delete account email sent! Please check your inbox."})})]})}function H(e){return(0,B.tZ)(s.Z,{pathname:e.path,children:(0,B.BX)(i.Z,{maxWidth:"xl",children:[(0,B.tZ)(c.Z,{}),(0,B.tZ)(u.Z,{header:(0,B.tZ)(r.Field.Text,{name:"sectionHeader",defaultValue:"My Profile"}),withVerticalSpacing:!0}),(0,B.tZ)(a.Z,{children:(0,B.tZ)(z,{})}),(0,B.tZ)(c.Z,{})]})})}var V=(0,r.connectPage)(H,{displayName:"ProfilePage"})}}]);
//# sourceMappingURL=component---src-pages-profile-tsx-9f04b6175ce0c5a99e43.js.map